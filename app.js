
let VIDEOS=[];
async function loadVideos(){const res=await fetch('data/videos.json');VIDEOS=await res.json();renderGrid(VIDEOS)}
function renderGrid(list){const g=document.getElementById('grid');g.innerHTML='';list.forEach(v=>{const c=document.createElement('div');c.className='card';const t=document.createElement('div');t.className='thumb';const img=document.createElement('img');img.src=v.thumbnail;const btn=document.createElement('button');btn.className='playbtn';btn.textContent='Play';btn.onclick=()=>openModal(v.videoId);t.appendChild(img);t.appendChild(btn);const h=document.createElement('h3');h.textContent=v.title;const m=document.createElement('div');m.className='meta';m.textContent=v.speaker+' â€¢ '+v.category;const link=document.createElement('a');link.href=v.url;link.target='_blank';link.textContent='Watch on YouTube';c.appendChild(t);c.appendChild(h);c.appendChild(m);c.appendChild(link);g.appendChild(c)})}
function openModal(id){const modal=document.createElement('div');modal.className='modal';modal.style= 'position:fixed;inset:0;background:rgba(3,9,6,0.6);display:flex;align-items:center;justify-content:center;z-index:9999;padding:18px';const box=document.createElement('div');box.style='width:min(900px,calc(100%-40px));background:#fff;border-radius:8px;overflow:hidden';const ifr=document.createElement('iframe');ifr.src='https://www.youtube.com/embed/'+id+'?rel=0';ifr.allow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';ifr.allowFullscreen=true;box.appendChild(ifr);modal.appendChild(box);modal.onclick=(e)=>{if(e.target===modal)modal.remove()};document.body.appendChild(modal)}
document.addEventListener('DOMContentLoaded',()=>{loadVideos();document.getElementById('search').addEventListener('input',function(){const q=this.value.trim().toLowerCase();const f=VIDEOS.filter(v=>(v.title+v.speaker+v.tags.join(' ')).toLowerCase().includes(q));renderGrid(f)})})
